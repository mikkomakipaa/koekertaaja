# Math Flash Card Creator

**Your Mission:** Create {{question_count}} flash cards to help a {{grade_context}} student practice mathematics.

{{material_section}}---

## How Flash Cards Work

Flash cards help students **actively recall** what they've learned (not just recognize answers).
Focus on:
- Key formulas and calculation methods students need to master
- Clear, simple questions with step-by-step explanations
- Connections between math concepts
- Real-world applications when possible

{{grade_instructions}}{{grade_note}}

---

## Topics You'll Cover

Create **exactly 10 cards per topic** to ensure balanced practice:

{{topics_list}}

**Important:**
- Tag every card with its topic (copy the exact spelling from above)
- Distribute cards evenly: ~{{questions_per_topic}} per topic (you can vary by ±1 if needed)
- Don't invent new topics—stick to the list above

---

## Card Types (Use Only These 3)

**You'll create 3 types of cards in this ratio:**
- **70% fill_blank** – Best for calculations and formulas
- **20% matching** – Connect concepts, formulas, and their uses
- **10% short_answer** – For explanations and word problems

Each card must be one of these three types. See examples below.

---

## Mathematical Notation

Use LaTeX notation for all mathematical expressions:
- Inline formulas: $$x + 5$$ or $$\frac{1}{2}$$
- Fractions: $$\frac{numerator}{denominator}$$
- Square root: $$\sqrt{x}$$ or $$\sqrt[3]{x}$$ (cube root)
- Powers: $$x^2$$ or $$2^{10}$$
- Multiplication: $$\times$$ (e.g., $$5 \times 3$$)
- Division: $$\div$$ (e.g., $$20 \div 4$$) - NEVER use / in equations
- Plus-minus: $$\pm$$

---

## Card Type Examples

### 1. FILL_BLANK (Fill in the Blank)
Perfect for calculations and formulas.

**Structure:**
- One clear calculation or blank to fill
- Context helps student remember
- Answer is a NUMBER or SHORT MATH EXPRESSION

**Example:**
```
Question: "Laske: $$15 \times 8 + 12$$ = ___"
Answer: "132"
Also accept: ["132.0", "132,0"]
Explanation: "Laskujärjestys: ensin kertolasku $$15 \times 8 = 120$$, sitten yhteenlasku $$120 + 12 = 132$$. Muista: kertolasku ennen yhteenlaskua!"
```

---

### 2. SHORT_ANSWER
Tests understanding and word problems.

**Structure:**
- Word problem or concept question
- Answer is a number with unit or brief explanation
- Student must construct the answer

**Example:**
```
Question: "Suorakulmion pituus on 8 cm ja leveys 5 cm. Mikä on sen pinta-ala?"
Answer: "40 neliösenttimetriä"
Also accept: ["40 cm²", "40", "40 cm2"]
Explanation: "Käytä kaavaa: Pinta-ala = pituus × leveys = $$8 \times 5 = 40$$ neliösenttimetriä. Pinta-ala kertoo kuinka suuri alue suorakulmiolla on."
```

---

### 3. MATCHING (Matching Pairs)
Connect formulas, concepts, and their applications.

**Structure:**
- Formulas and their names
- Shapes and their properties
- Problems and solution methods
- Use 3-6 pairs (not too many!)

**Example:**
```
Question: "Yhdistä geometrinen muoto oikeaan pinta-alan kaavaan:"
Pairs: [
  {"left": "Neliö", "right": "$$sivu \times sivu$$"},
  {"left": "Suorakulmio", "right": "$$pituus \times leveys$$"},
  {"left": "Kolmio", "right": "$$\frac{kanta \times korkeus}{2}$$"},
  {"left": "Ympyrä", "right": "$$\pi \times säde^2$$"}
]
Explanation: "Jokaisella muodolla on oma pinta-alan kaava. Neliössä kaikki sivut yhtä pitkiä, suorakulmiossa kaksi paria. Kolmion kaava jakaa suorakulmion puoliksi."
```

---

## Writing Great Explanations

Help students understand WHY, not just WHAT:
- Show step-by-step calculation process
- Explain which formula or method to use
- Give memory tricks or patterns
- Include real-world applications when relevant
- Keep it friendly and clear: 20-300 characters

**Tone:**
- Friendly and encouraging
- No complex terminology unless explained
- Stick strictly to provided material
- Use Finnish for instructions and explanations

---

## Handling Numerical Answers

For fill_blank and short_answer questions:
- Provide the main correct answer in "correct_answer"
- List alternative acceptable formats in "acceptable_answers":
  * Decimals and fractions: "0.5" and "$$\frac{1}{2}$$" and "1/2" and "0,5"
  * Percentages: "50%" and "0.5" and "0,5"
  * Different notations: "3.14" and "3,14"
  * With/without units: "40" and "40 cm²" and "40 neliösenttimetriä"
  * Integers: "5" and "5.0" and "5,0"

---

## JSON Output Format

**Return ONLY a JSON array** (no other text):

```json
[
  {
    "question": "Question text in Finnish (can include LaTeX: $$x^2$$)",
    "type": "fill_blank" | "short_answer" | "matching",
    "topic": "Topic name",  // Required! Use exact topic name from list above
    "correct_answer": "the right answer (can include LaTeX)",
    "acceptable_answers": ["alternative 1", "alternative 2"],  // optional, different formats
    "pairs": [{"left": "item1", "right": "item2"}],  // only for matching, 3-6 pairs
    "explanation": "Clear, step-by-step explanation in Finnish (20-300 chars). Show calculation steps."
  }
]
```

---

## Quick Checklist

Before you respond, verify:
- ✓ Every card has a topic tag (exact spelling from list)
- ✓ Cards are balanced across topics (~{{questions_per_topic}} per topic)
- ✓ Card types follow ratio: 70% fill_blank, 20% matching, 10% short_answer
- ✓ Created exactly {{question_count}} cards total
- ✓ Each question focuses on ONE concept or calculation
- ✓ All calculations are correct
- ✓ LaTeX notation is properly formatted ($$...$$)
- ✓ Numerical answers include alternative formats
- ✓ Explanations show calculation steps (20+ chars)
- ✓ Output is pure JSON (no extra text)
- ✓ Stuck to provided material (no new concepts added)

**Remember:** Cards without topic tags will be rejected automatically.

---
