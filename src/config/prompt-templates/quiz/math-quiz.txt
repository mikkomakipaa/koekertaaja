Analysoi {{material_type}} ja luo {{question_count}} monipuolista matematiikan kysymystÃ¤ koevalmistautumiseen.

{{grade_content}}

{{difficulty_instructions}}
{{grade_note}}

{{material_section}}
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš ï¸  KRIITTINEN VAATIMUS - AIHEIDEN TASAPAINO âš ï¸
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TOPIC BALANCING (PAKOLLINEN):

1. KÃ„YTÃ„ NÃ„ITÃ„ TUNNISTETTUJA AIHEALUEITA ({{topic_count}} kpl):
{{topics_list}}

   âš ï¸ Ã„LÃ„ KEKSI UUSIA AIHEALUEITA
   âš ï¸ KÃ„YTÃ„ TÃ„SMÃ„LLEEN SAMAA KIRJOITUSASUA KUIN YLLÃ„

2. JOKA IKINEN kysymys TÃ„YTYY sisÃ¤ltÃ¤Ã¤ "topic"-kenttÃ¤
   â€¢ Valitse yksi yllÃ¤ olevista aihealueista jokaiselle kysymykselle
   â€¢ Kopioi aihealueen nimi TÃ„SMÃ„LLEEN sellaisenaan

3. TASAINEN JAKAUTUMINEN kaikille aihealueille:
   â€¢ TAVOITE: ~{{questions_per_topic}} kysymystÃ¤ per aihealue
   â€¢ Jaa {{question_count}} kysymystÃ¤ TASAISESTI {{topic_count}} aihealueen kesken
   â€¢ Ã„lÃ¤ suosi yhtÃ¤ aihealuetta toisten kustannuksella
   â€¢ Sallittu vaihtelu: Â±1 kysymys per aihealue

4. VARMISTA ettÃ¤ JOKAINEN kysymys on merkitty aihealueella
   â€¢ Tarkista ettÃ¤ jokainen kysymys sisÃ¤ltÃ¤Ã¤ "topic"-kentÃ¤n
   â€¢ Tarkista ettÃ¤ topic-kenttÃ¤ vastaa yhtÃ¤ yllÃ¤ olevista aihealueista

âš ï¸ KYSYMYKSET ILMAN TOPIC-KENTTÃ„Ã„ TAI VÃ„Ã„RÃ„LLÃ„ TOPIC-ARVOLLA HYLÃ„TÃ„Ã„N AUTOMAATTISESTI

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TÃ„RKEÃ„Ã„ - KYSYMYSTEN MUOTO:
- Kysymykset ja selitykset esitetÃ¤Ã¤n SUOMEKSI
- KÃ¤ytÃ¤ LaTeX-merkintÃ¤Ã¤ matematiikan kaavoille ja symboleille
- Vaihtele kysymystyyppejÃ¤ JA aiheita opetussuunnitelman mukaan
- Luo TÃ„SMÃ„LLEEN {{question_count}} kysymystÃ¤
- Varmista ettÃ¤ laskut ovat oikein
- NOUDATA TARKASTI vaikeustason kysymystyyppien jakaumaa
- PERUSTA kysymykset annettuun materiaaliin {{grade_context_note}}

MATEMAATTINEN MERKINTÃ„TAPA:
- KÃ¤ytÃ¤ LaTeX-merkintÃ¤Ã¤: $$formula$$  (esim. $$x^2 + 2x + 1 = 0$$)
- Inline-kaavat: $$x + 5$$ tai $$\frac{1}{2}$$
- Murtoluvut: $$\frac{osoittaja}{nimittÃ¤jÃ¤}$$
- NeliÃ¶juuri: $$\sqrt{x}$$ tai $$\sqrt[3]{x}$$ (kuutiojuuri)
- Potenssi: $$x^2$$ tai $$2^{10}$$
- Kreikkalaiset kirjaimet: $$\pi$$, $$\alpha$$, $$\theta$$
- Trigonometria: $$\sin(x)$$, $$\cos(x)$$, $$\tan(x)$$
- Erikoismerkit: $$\times$$ (kertomerkki), $$\div$$ (jakomerkki), $$\pm$$ (plus-miinus)
- TÃ„RKEÃ„Ã„: KÃ¤ytÃ¤ AINA $$\div$$ jakolaskuissa yhtÃ¤lÃ¶issÃ¤, Ã„LÃ„ kÃ¤ytÃ¤ / -merkkiÃ¤

KYSYMYSTYYPPIEN KÃ„YTTÃ–OHJEET:

1. MULTIPLE_CHOICE (monivalinta):
   - Sopii: laskutehtÃ¤vÃ¤t, yhtÃ¤lÃ¶t, geometria, kÃ¤sitteiden tunnistaminen
   - Esim: "Laske: $$15 \times 8 + 12$$"
   - Vaihtoehdot: 4 kpl, yksi oikea vastaus
   - VÃ¤Ã¤rÃ¤t vastaukset: yleisiÃ¤ laskuvirheitÃ¤ (unohdettu termi, vÃ¤Ã¤rÃ¤ laskujÃ¤rjestys, etc)

2. TRUE_FALSE (totta/tarua):
   - Sopii: kÃ¤sitteiden ymmÃ¤rtÃ¤minen, sÃ¤Ã¤ntÃ¶jen tunnistaminen
   - Esim: "Totta vai tarua: NeliÃ¶n kaikki sivut ovat yhtÃ¤ pitkiÃ¤."
   - correct_answer: true tai false (boolean, EI "totta"/"tarua")

3. FILL_BLANK (tÃ¤ydennÃ¤):
   - Helppo: yksinkertainen numeerinen vastaus
   - Normaali/Vaikea: vaatii laskemista
   - Esim: "Laske: $$7^2 - 5 \times 3$$ = ___"
   - Esim: "Laske: $$20 \div 4 + 3$$ = ___"
   - Anna acceptable_answers listaan vaihtoehtoiset muodot

4. MATCHING (paritus):
   - Sopii: termit ja mÃ¤Ã¤ritelmÃ¤t, kaavat ja nimet
   - KÃ¤ytÃ¤ sÃ¤Ã¤steliÃ¤Ã¤sti, vain jos aihe sopii

5. SEQUENTIAL (jÃ¤rjestys):
   - Sopii: ratkaisun vaiheet, laskujÃ¤rjestys, ongelman ratkaisuprosessi
   - KÃ¤ytÃ¤ helppo ja normaali tasoilla
   - Helppo taso: 4 vaihetta, Normaali taso: 5-6 vaihetta

   Helppo taso - LaskujÃ¤rjestys:
   Kysymys: "JÃ¤rjestÃ¤ nÃ¤mÃ¤ laskun vaiheet oikeaan jÃ¤rjestykseen laskettaessa $$3 + 4 \times 5$$:"
   items: [
     "Laske kertolasku: $$4 \times 5 = 20$$",
     "Laske yhteenlasku: $$3 + 20 = 23$$",
     "Tunnista operaatiot: yhteenlasku ja kertolasku",
     "Vastaus on 23"
   ]
   correct_order: [2, 0, 1, 3]

   Normaali taso - YhtÃ¤lÃ¶n ratkaisu:
   Kysymys: "JÃ¤rjestÃ¤ nÃ¤mÃ¤ vaiheet oikeaan jÃ¤rjestykseen kun ratkaistaan yhtÃ¤lÃ¶ $$2x + 6 = 14$$:"
   items: [
     "VÃ¤hennÃ¤ molemmilta puolilta 6: $$2x = 8$$",
     "Jaa molemmat puolet luvulla 2: $$x = 4$$",
     "Tarkista vastaus: $$2 \times 4 + 6 = 14$$ âœ“",
     "Aloitetilanne: $$2x + 6 = 14$$",
     "Vastaus on $$x = 4$$"
   ]
   correct_order: [3, 0, 1, 4, 2]

   Normaali taso - Pinta-alan laskeminen:
   Kysymys: "JÃ¤rjestÃ¤ nÃ¤mÃ¤ vaiheet oikeaan jÃ¤rjestykseen kun lasketaan suorakulmion pinta-ala (leveys 5 cm, korkeus 8 cm):"
   items: [
     "Pinta-ala = $$5 \times 8 = 40$$ neliÃ¶senttimetriÃ¤",
     "KÃ¤ytetÃ¤Ã¤n kaavaa: Pinta-ala = leveys $$\times$$ korkeus",
     "Tunnetaan mitat: leveys = 5 cm, korkeus = 8 cm",
     "Sijoitetaan arvot kaavaan"
   ]
   correct_order: [2, 1, 3, 0]

NUMEERISTEN VASTAUSTEN KÃ„SITTELY:
- Anna pÃ¤Ã¤asiallinen oikea vastaus "correct_answer" -kentÃ¤ssÃ¤
- LisÃ¤Ã¤ "acceptable_answers" -taulukkoon vaihtoehtoiset hyvÃ¤ksyttÃ¤vÃ¤t muodot:
  * Desimaaliluvut ja murtoluvut: "0.5" ja "$$\frac{1}{2}$$" ja "1/2" ja "0,5"
  * Prosentit: "50%" ja "0.5" ja "0,5"
  * Eri merkitsemistavat: "3,14" ja "3.14"
  * Sievennetyt ja sieventÃ¤mÃ¤ttÃ¶mÃ¤t muodot: "$$\frac{2}{4}$$" ja "$$\frac{1}{2}$$"
  * Kokonaisluvut: "5" ja "5.0" ja "5,0"

VÃ„Ã„RÃ„T VASTAUKSET (multiple_choice):
VÃ¤Ã¤rÃ¤t vastaukset tulee olla uskottavia - kÃ¤ytÃ¤ yleisiÃ¤ laskuvirheitÃ¤:
- Unohdettu termi: Jos oikea vastaus on 24, vÃ¤Ã¤rÃ¤ voi olla 20
- VÃ¤Ã¤rÃ¤ operaatio: 28 (yhteenlasku kertolaskun sijaan)
- LaskujÃ¤rjestysvirhe: 35 (laskettu vasemmalta oikealle ilman jÃ¤rjestystÃ¤)
- YksikkÃ¶virhe tai vÃ¤Ã¤rÃ¤ muunnos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ JSON VASTAUSMUOTO - NOUDATA TARKASTI
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Luo kysymykset JSON-muodossa. VASTAA VAIN JSON-MUODOSSA ILMAN MITÃ„Ã„N MUUTA TEKSTIÃ„:

[
  {
    "question": "kysymysteksti suomeksi (voi sisÃ¤ltÃ¤Ã¤ LaTeX-merkintÃ¤Ã¤)",
    "type": "multiple_choice" | "fill_blank" | "true_false" | "matching" | "sequential",
    "topic": "Laskutoimitukset" | "Geometria" | "Luvut", // âš ï¸ PAKOLLINEN - JOKA kysymyksessÃ¤
    "options": ["vaihtoehto1", "vaihtoehto2", "vaihtoehto3", "vaihtoehto4"], // vain multiple_choice
    "items": ["vaihe1", "vaihe2", "vaihe3", "vaihe4"], // PAKOLLINEN sequential kysymyksille
    "correct_order": [2, 0, 1, 3], // PAKOLLINEN sequential kysymyksille - indeksit oikeassa jÃ¤rjestyksessÃ¤
    "correct_answer": "oikea vastaus (voi sisÃ¤ltÃ¤Ã¤ LaTeX-merkintÃ¤Ã¤)",  // EI kÃ¤ytetÃ¤ sequential kysymyksissÃ¤
    "acceptable_answers": ["vaihtoehtoinen muoto 1", "vaihtoehtoinen muoto 2"], // vapaaehtoinen, erityisesti fill_blank
    "explanation": "selitys suomeksi kuinka vastaus saadaan (nÃ¤ytÃ¤ laskuvaiheet)"
  }
]

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… TARKISTUSLISTA ENNEN VASTAAMISTA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Varmista ettÃ¤:
âœ“ JOKAINEN kysymys sisÃ¤ltÃ¤Ã¤ "topic"-kentÃ¤n (ei yhtÃ¤Ã¤n tyhjÃ¤Ã¤!)
âœ“ Kysymykset jakautuvat TASAISESTI aihealueiden kesken
âœ“ KYSYMYSTYYPPIEN JAKAUMA vastaa vaikeustason ohjeita ({{difficulty}})
âœ“ Kaikki laskut on tarkistettu ja ovat OIKEIN
âœ“ VÃ¤Ã¤rÃ¤t vastaukset ovat uskottavia (yleisiÃ¤ laskuvirheitÃ¤)
âœ“ Selitykset nÃ¤yttÃ¤vÃ¤t laskuaskeleet selkeÃ¤sti
âœ“ Kysymykset perustuvat materiaaliin {{grade_context_note}}
âœ“ LaTeX-merkintÃ¤ on oikein muotoiltu ($$...$$)
âœ“ Numeeristen vastausten kaikki hyvÃ¤ksyttÃ¤vÃ¤t muodot listattu
âœ“ Sequential kysymyksillÃ¤ oikeat indeksit (0-based)
âœ“ Jokainen kysymys on uniikki
âœ“ Vastaat PELKÃ„LLÃ„ JSON-taulukolla, ei muuta tekstiÃ¤

âš ï¸ KYSYMYKSET ILMAN TOPIC-KENTTÃ„Ã„ HYLÃ„TÃ„Ã„N AUTOMAATTISESTI

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
